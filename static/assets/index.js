(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function V(){}function ke(e){return e()}function ye(){return Object.create(null)}function Y(e){e.forEach(ke)}function $e(e){return typeof e=="function"}function Ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Re(e){return Object.keys(e).length===0}function o(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function Pe(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){return document.createTextNode(e)}function v(){return E(" ")}function D(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function Ae(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ie(e){return Array.from(e.childNodes)}function Q(e,t){t=""+t,e.data!==t&&(e.data=t)}function _e(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}class Oe{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,s=null){this.e||(this.is_svg?this.e=Pe(n.nodeName):this.e=u(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(s)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)O(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(A)}}let ee;function X(e){ee=e}function je(){if(!ee)throw new Error("Function called outside component initialization");return ee}function De(e){je().$$.on_mount.push(e)}const U=[],ge=[];let K=[];const ve=[],qe=Promise.resolve();let ie=!1;function Te(){ie||(ie=!0,qe.then(Ce))}function be(){return Te(),qe}function ce(e){K.push(e)}const oe=new Set;let B=0;function Ce(){if(B!==0)return;const e=ee;do{try{for(;B<U.length;){const t=U[B];B++,X(t),He(t.$$)}}catch(t){throw U.length=0,B=0,t}for(X(null),U.length=0,B=0;ge.length;)ge.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];oe.has(n)||(oe.add(n),n())}K.length=0}while(U.length);for(;ve.length;)ve.pop()();ie=!1,oe.clear(),X(e)}function He(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}function Me(e){const t=[],n=[];K.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),K=t}const Fe=new Set;function Ge(e,t){e&&e.i&&(Fe.delete(e),e.i(t))}function xe(e,t,n,s){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),s||ce(()=>{const c=e.$$.on_mount.map(ke).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...c):Y(c),e.$$.on_mount=[]}),r.forEach(ce)}function Be(e,t){const n=e.$$;n.fragment!==null&&(Me(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ue(e,t){e.$$.dirty[0]===-1&&(U.push(e),Te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ke(e,t,n,s,l,r,c,y=[-1]){const p=ee;X(e);const a=e.$$={fragment:null,ctx:[],props:r,update:V,not_equal:l,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:ye(),dirty:y,skip_bound:!1,root:t.target||p.$$.root};c&&c(a.root);let m=!1;if(a.ctx=n?n(e,t.props||{},(f,_,...S)=>{const N=S.length?S[0]:_;return a.ctx&&l(a.ctx[f],a.ctx[f]=N)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](N),m&&Ue(e,f)),_}):[],a.update(),m=!0,Y(a.before_update),a.fragment=s?s(a.ctx):!1,t.target){if(t.hydrate){const f=Ie(t.target);a.fragment&&a.fragment.l(f),f.forEach(A)}else a.fragment&&a.fragment.c();t.intro&&Ge(e.$$.fragment),xe(e,t.target,t.anchor,t.customElement),Ce()}X(p)}class Ve{$destroy(){Be(this,1),this.$destroy=V}$on(t,n){if(!$e(n))return V;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!Re(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function we(e,t,n){const s=e.slice();return s[22]=t[n],s[24]=n,s}function Ye(e){let t,n,s,l,r,c,y,p,a,m,f,_,S=e[5].log_request+"",N,R,L,$,C,P,b,q,j,I,F,i,g,z,ae,J,ne,H,W,ue,G,te=e[0].length+"",se,fe,de,he,Z,le,pe,x=e[0],k=[];for(let h=0;h<x.length;h+=1)k[h]=Ee(we(e,x,h));return{c(){t=u("div"),n=u("h2"),n.textContent="Active Session",s=v(),l=u("p"),r=E("Your Session ID: "),c=u("strong"),y=E(e[2]),p=v(),a=u("p"),m=E("Send requests to: "),f=u("code"),_=E(e[1]),N=E(S),R=E(e[2]),L=v(),$=u("div"),C=u("h3"),C.textContent="Actions",P=v(),b=u("div"),q=u("button"),q.textContent="Simulate Request",j=v(),I=u("button"),I.textContent="Refresh Data",F=v(),i=u("button"),i.textContent="Extend Session",g=v(),z=u("button"),z.textContent="Clear Data",ae=v(),J=u("button"),J.textContent="End Session",ne=v(),H=u("div"),W=u("h3"),ue=E("Logged Requests "),G=u("span"),se=E(te),fe=E(" / "),de=E(We),he=v(),Z=u("div");for(let h=0;h<k.length;h+=1)k[h].c();d(n,"class","svelte-84hmyy"),d(f,"class","svelte-84hmyy"),d(t,"class","session-info svelte-84hmyy"),d(C,"class","svelte-84hmyy"),d(q,"class","btn svelte-84hmyy"),d(I,"class","btn svelte-84hmyy"),d(i,"class","btn svelte-84hmyy"),d(z,"class","btn svelte-84hmyy"),d(J,"class","btn btn-danger svelte-84hmyy"),d(b,"class","button-group svelte-84hmyy"),d($,"class","actions svelte-84hmyy"),d(G,"class","badge svelte-84hmyy"),d(W,"class","svelte-84hmyy"),d(Z,"class","request-container svelte-84hmyy"),d(H,"class","requests-wrapper svelte-84hmyy")},m(h,T){O(h,t,T),o(t,n),o(t,s),o(t,l),o(l,r),o(l,c),o(c,y),o(t,p),o(t,a),o(a,m),o(a,f),o(f,_),o(f,N),o(f,R),O(h,L,T),O(h,$,T),o($,C),o($,P),o($,b),o(b,q),o(b,j),o(b,I),o(b,F),o(b,i),o(b,g),o(b,z),o(b,ae),o(b,J),O(h,ne,T),O(h,H,T),o(H,W),o(W,ue),o(W,G),o(G,se),o(G,fe),o(G,de),o(H,he),o(H,Z);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(Z,null);le||(pe=[D(q,"click",e[12]),D(I,"click",e[10]),D(i,"click",e[8]),D(z,"click",e[11]),D(J,"click",e[9])],le=!0)},p(h,T){if(T&4&&Q(y,h[2]),T&2&&Q(_,h[1]),T&4&&Q(R,h[2]),T&1&&te!==(te=h[0].length+"")&&Q(se,te),T&8217){x=h[0];let w;for(w=0;w<x.length;w+=1){const me=we(h,x,w);k[w]?k[w].p(me,T):(k[w]=Ee(me),k[w].c(),k[w].m(Z,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=x.length}},d(h){h&&A(t),h&&A(L),h&&A($),h&&A(ne),h&&A(H),Le(k,h),le=!1,Y(pe)}}}function ze(e){let t,n,s,l,r,c,y,p;return{c(){t=u("div"),n=u("h2"),n.textContent="Welcome to Request Inspector",s=v(),l=u("p"),l.textContent="To start a new session, click the 'Start Session' button below.",r=v(),c=u("button"),c.textContent="Start Session",d(n,"class","svelte-84hmyy"),d(c,"class","btn btn-primary svelte-84hmyy"),d(t,"class","welcome-section svelte-84hmyy")},m(a,m){O(a,t,m),o(t,n),o(t,s),o(t,l),o(t,r),o(t,c),y||(p=D(c,"click",e[7]),y=!0)},p:V,d(a){a&&A(t),y=!1,p()}}}function Ee(e){let t,n,s,l=e[24]+1+"",r,c,y,p=e[3].includes(e[24])?"\u25BC":"\u25B6",a,m,f,_,S,N,R,L=Se(e[22])+"",$,C,P,b,q,j;function I(){return e[14](e[24])}function F(){return e[15](e[22])}return{c(){t=u("div"),n=u("div"),s=E("Request "),r=E(l),c=v(),y=u("span"),a=E(p),m=v(),f=u("div"),_=u("div"),S=u("pre"),N=E("                                        "),R=new Oe(!1),$=E(`
                                    `),C=v(),P=u("button"),P.textContent="Copy",b=v(),d(y,"class","expand-icon svelte-84hmyy"),d(n,"class","request-header svelte-84hmyy"),R.a=$,d(S,"class","svelte-84hmyy"),d(P,"class","btn btn-small copy-btn svelte-84hmyy"),d(_,"id","request-content-"+e[24]),d(_,"class","svelte-84hmyy"),d(f,"class","request-content svelte-84hmyy"),_e(f,"max-height",e[3].includes(e[24])?e[4][e[24]]:"0px"),d(t,"class","request svelte-84hmyy")},m(i,g){O(i,t,g),o(t,n),o(n,s),o(n,r),o(n,c),o(n,y),o(y,a),o(t,m),o(t,f),o(f,_),o(_,S),o(S,N),R.m(L,S),o(S,$),o(_,C),o(_,P),o(t,b),q||(j=[D(n,"click",I),D(P,"click",Ae(F))],q=!0)},p(i,g){e=i,g&8&&p!==(p=e[3].includes(e[24])?"\u25BC":"\u25B6")&&Q(a,p),g&1&&L!==(L=Se(e[22])+"")&&R.p(L),g&24&&_e(f,"max-height",e[3].includes(e[24])?e[4][e[24]]:"0px")},d(i){i&&A(t),q=!1,Y(j)}}}function Je(e){let t,n,s,l,r,c,y;function p(f,_){return f[2]?Ye:ze}let a=p(e),m=a(e);return{c(){t=u("main"),n=u("div"),s=u("header"),l=u("h1"),l.textContent="Request Inspector",r=v(),c=u("p"),c.textContent=`Endpoint: ${e[6]}`,y=v(),m.c(),d(l,"class","svelte-84hmyy"),d(c,"class","subtitle svelte-84hmyy"),d(s,"class","svelte-84hmyy"),d(n,"class","container svelte-84hmyy")},m(f,_){O(f,t,_),o(t,n),o(n,s),o(s,l),o(s,r),o(s,c),o(n,y),m.m(n,null)},p(f,[_]){a===(a=p(f))&&m?m.p(f,_):(m.d(1),m=a(f),m&&(m.c(),m.m(n,null)))},i:V,o:V,d(f){f&&A(t),m.d()}}}const re="ri_active_session_key",We=5,Ze=5;function Qe(){return new URLSearchParams(window.location.search).get("session")}async function M(e,t,n=null){let s={method:t,headers:{"Content-Type":"application/json"}};n&&(s.body=JSON.stringify(n));let l=await fetch(e,s),r=null;try{r=await l.json()}catch(c){console.error("request parse error",c)}return l.status!==200&&(console.error("Error in request",l),r.error?(alert(r.error),r=null):(alert("Error in request"),r=null)),r}function Se(e){return e.split(`
`).map((s,l)=>{if(l===0)return`<span class="method-url">${s}</span>`;if(s.includes(":")){const[r,...c]=s.split(":");return`<span class="header-key">${r}:</span><span class="header-value">${c.join(":")}</span>`}else return s}).join(`
`)}function Xe(e){navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard!")},t=>{console.error("Could not copy text: ",t)})}function et(e,t,n){const s={start:"/api/create",extend:"/api/extend/",data:"/api/session/",end:"/api/delete/",clear:"/api/clear/",log_request:"/api/request/"};let l="",r=null,c=[],y=null,p=[],a={};const m=window.location.protocol,f=window.location.host,_=m+"//"+f;function S(){n(2,r=null),n(0,c=[]),n(3,p=[]),n(4,a={}),y&&(clearInterval(y),y=null),localStorage.removeItem(re),window.history.replaceState({},document.title,"/")}De(async()=>{(!l||l.length===0||l==="/")&&n(1,l=_);let i=Qe()||localStorage.getItem(re);await N(i),c.length>0&&(n(3,p=[0]),await be(),j(0))});async function N(i){if(!i){S();return}let g=await M(`${l}${s.data}${i}`,"GET");g?(n(2,r=i),n(0,c=g),y=setInterval(async()=>{await C()},Ze*1e3)):S()}async function R(){if(r){alert("Delete the current session to start a new one");return}let i=await M(`${l}${s.start}`,"GET");i&&i.session_id&&i.session_id.length>0?(n(2,r=i.session_id),localStorage.setItem(re,r)):console.error("Error starting session",i)}async function L(){let i=await M(`${l}${s.extend}${r}`,"GET");i&&(console.log("Session extended",i),alert("Session extended"))}async function $(){await M(`${l}${s.end}${r}`,"GET")&&S()}async function C(){let i=await M(`${l}${s.data}${r}`,"GET");i&&n(0,c=i)}async function P(){await M(`${l}${s.clear}${r}`,"GET")&&n(0,c=[])}async function b(){let i={message:"This is a test request"},g=await M(`${l}${s.log_request}${r}`,"POST",i);g&&(console.log("Request logged",g),await C())}async function q(i){p.includes(i)?n(3,p=p.filter(g=>g!==i)):(n(3,p=[...p,i]),await be(),j(i))}function j(i){const g=document.getElementById(`request-content-${i}`);g&&n(4,a[i]=g.scrollHeight+"px",a)}const I=i=>q(i),F=i=>Xe(i);return e.$$.update=()=>{e.$$.dirty&1&&console.log("data >",c)},[c,l,r,p,a,s,_,R,L,$,C,P,b,q,I,F]}class tt extends Ve{constructor(t){super(),Ke(this,t,et,Je,Ne,{})}}new tt({target:document.getElementById("app")});
